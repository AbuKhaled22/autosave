---
import type { Language } from '../../lib/i18n';
import { getLocalizedPath } from '../../lib/i18n';
import type { BlogPost } from '../../lib/blog-data';
import BlogCard from '../blog/BlogCard.astro';

interface Props {
  content: {
    eyebrow: string;
    title: string;
    description: string;
    viewAll: string;
    readMore: string;
  };
  posts: BlogPost[];
  lang: Language;
}

const { content, posts, lang } = Astro.props;
---

<section class="py-20 lg:py-28">
  <div class="container mx-auto px-4">
    <div class="flex items-end justify-between mb-14" data-animate="fade-in-up">
      <div>
        <span class="eyebrow-decorated text-sm font-semibold uppercase tracking-widest text-accent">{content.eyebrow}</span>
        <h2 class="mt-4 text-3xl font-bold tracking-tight font-display sm:text-4xl">{content.title}</h2>
        <p class="mt-4 text-lg text-muted-foreground max-w-2xl">{content.description}</p>
      </div>
      <a
        href={getLocalizedPath('/blog', lang)}
        class="hidden sm:inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-accent transition-colors group"
        aria-label={content.viewAll}
      >
        {content.viewAll}
        <svg class="h-4 w-4 transition-transform group-hover:translate-x-1 rtl:-scale-x-100" aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {posts.map((post, i) => (
        <BlogCard
          post={post}
          lang={lang}
          readMoreLabel={content.readMore}
          animateDelay={String((i + 1) * 100)}
        />
      ))}
    </div>
    <div class="sm:hidden mt-8 text-center">
      <a
        href={getLocalizedPath('/blog', lang)}
        class="inline-flex items-center gap-1 text-sm font-semibold text-primary hover:text-accent transition-colors"
        aria-label={content.viewAll}
      >
        {content.viewAll}
        <svg class="h-3.5 w-3.5 rtl:-scale-x-100" aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
  </div>
</section>
